{"version":3,"sources":["services/object_extensions.exec.js","services/StockTimeSeries.js","components/TimeSeriesChart.js","services/QuandlAPI.js","components/StockPrice.js","App.js","reportWebVitals.js","index.js"],"names":["Object","String","Number","Boolean","map","receiver","defineProperty","prototype","value","intercept","this","valueOf","enumerable","configurable","writable","addTap","val","console","log","addLog","tap","x","addDebug","addChain","StockTimeSeries","data","name","metadata","events","item","timestamp","moment","Date","date_string","open","close","low","high","TimeEvent","toDate","sortedCollection","Collection","sortByTime","series","TimeSeries","columns","collection","volumeEvents","index","volume","IndexedEvent","sortedVolumeCollection","seriesVolume","utc","Stockchart","props","tickerCode","useState","startDate","endDate","selectedDate","setSelectedDate","mode","timerange","TimeRange","sts","state","setState","useEffect","focusedInput","croppedSeries","crop","croppedVolumeSeries","linkStyle","fontWeight","color","cursor","linkStyleActive","className","isOutsideRange","displayFormat","onDatesChange","onFocusChange","small","onClick","style","timeRange","hideWeekends","enablePanZoom","onTimeRangeChanged","timeAxisStyle","axis","fill","stroke","height","normal","interpolation","id","label","min","max","format","width","type","axisMargin","dangerouslySetInnerHTML","__html","description","parseData","d","date","timeParse","Open","High","Low","Close","Volume","QUANDL_DATASETS_API","QuandlAPI","getDatasets","a","datasets","fetch","response","ok","json","jsonResponse","cached_datasets","getStockData","data_format","start_date","end_date","text","csvParse","key2rowIdx","reduce","memo","row","i","entries","forEach","k","push","StockPrice","setMetadata","setDatasets","stockData","setStockData","loading","setLoading","then","sort","b","dataset_code","getOptionLabel","getOptionValue","onChange","defaultOptions","placeholder","options","App","class","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1479dcfd.chunk.js","sourcesContent":["const addTap = receiver =>\n  Object.defineProperty(receiver.prototype, \"tap\", {\n    value: function(intercept) {\n      let val = this.valueOf ? this.valueOf() : this;\n      intercept(val);\n      return this;\n    },\n    enumerable: false,\n    configurable: true,\n    writable: true\n  });\n\nconst addLog = receiver =>\n  Object.defineProperty(receiver.prototype, \"log\", {\n    value: function(intercept) {\n      //if (process.env.NODE_ENV == 'production') return this;\n      let val = this.valueOf ? this.valueOf() : this;\n      if (intercept) {\n        console.log(`${intercept} `, val || \"\");\n      } else {\n        console.log(val);\n      }\n      return this;\n    },\n    enumerable: false,\n    configurable: true,\n    writable: true\n  });\n\nconst addDebug = receiver =>\n  Object.defineProperty(receiver.prototype, \"debug\", {\n    value: function(intercept) {\n      let val = this.valueOf ? this.valueOf() : this;\n      val.tap(x => {\n        debugger;\n      });\n      return this;\n    },\n    enumerable: false,\n    configurable: true,\n    writable: true\n  });\n\nconst addChain = receiver =>\n  Object.defineProperty(receiver.prototype, \"chain\", {\n    value: function(intercept) {\n      let val = this.valueOf ? this.valueOf() : this;\n      return intercept(val);\n    },\n    enumerable: false,\n    configurable: true,\n    writable: true\n  });\n\n[Object, String, Number, Boolean].map(receiver => {\n  addTap(receiver);\n  addLog(receiver);\n  addDebug(receiver);\n  addChain(receiver);\n});\n","// Pond\nimport { Collection, TimeSeries, TimeEvent, IndexedEvent } from \"pondjs\";\nimport moment from \"moment\";\n\nconst StockTimeSeries = ({ data, metadata }) => {\n  const name = metadata.name;\n  const columns = [\"time\", \"open\", \"close\", \"low\", \"high\"];\n  const events = data.map((item) => {\n    const timestamp = moment(new Date(item.date_string));\n    const { open, close, low, high } = item;\n    return new TimeEvent(timestamp.toDate(), {\n      open: +open,\n      close: +close,\n      low: +low,\n      high: +high,\n    });\n  });\n  const collection = new Collection(events);\n  const sortedCollection = collection.sortByTime();\n  const series = new TimeSeries({\n    name,\n    columns,\n    collection: sortedCollection,\n  });\n\n  //\n  // Volume\n  //\n\n  const volumeEvents = data.map((item) => {\n    const index = item.date_string;\n    const { volume } = item;\n    return new IndexedEvent(index, { volume: +volume });\n  });\n  const volumeCollection = new Collection(volumeEvents);\n  const sortedVolumeCollection = volumeCollection.sortByTime();\n\n  const seriesVolume = new TimeSeries({\n    name: name,\n    utc: false,\n    collection: sortedVolumeCollection,\n  });\n\n  return {\n    series,\n    seriesVolume,\n  };\n};\n\nexport default StockTimeSeries;\n","import React, { useEffect, useState } from \"react\";\nimport moment from \"moment\";\nimport \"react-dates/initialize\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport { DateRangePicker } from \"react-dates\";\n// Pond\nimport { TimeRange } from \"pondjs\";\n\n// Imports from the charts library\nimport {\n  ChartContainer,\n  ChartRow,\n  Charts,\n  YAxis,\n  LineChart,\n  BarChart,\n  Resizable,\n} from \"react-timeseries-charts\";\nimport StockTimeSeries from \"../services/StockTimeSeries\";\n\nfunction Stockchart(props) {\n  const { data, metadata, tickerCode } = props;\n\n  const [selectedDate, setSelectedDate] = useState({\n    startDate: moment(metadata[\"oldest_available_date\"]),\n    endDate: moment(metadata[\"newest_available_date\"]),\n  });\n  const [state, setState] = useState({\n    mode: \"linear\",\n    timerange: new TimeRange([\n      metadata[\"oldest_available_date\"],\n      metadata[\"newest_available_date\"],\n    ]),\n    sts: StockTimeSeries({ data, metadata }),\n  });\n\n  useEffect(() => {\n    if (!tickerCode) {\n      return;\n    }\n\n    setState({\n      mode: \"linear\",\n      focusedInput: null,\n      timerange: new TimeRange([\n        metadata[\"oldest_available_date\"],\n        metadata[\"newest_available_date\"],\n      ]),\n      sts: StockTimeSeries({ data, metadata }),\n    });\n\n    return () => {\n      // cleanup\n    };\n  }, [props]);\n\n  const handleTimeRangeChange = (timerange) => {\n    setState({ ...state, timerange });\n  };\n\n  const setModeLinear = () => {\n    setState({ ...state, mode: \"linear\" });\n  };\n\n  const setModeLog = () => {\n    setState({ ...state, mode: \"log\" });\n  };\n\n  const onDatesChange = ({ startDate, endDate }) => {\n    setSelectedDate({ startDate, endDate });\n  };\n\n  const onFocusChange = (focusedInput) => {\n    setState({ ...state, focusedInput });\n  };\n\n  const resetDateRange = () => {\n    setSelectedDate({\n      startDate: moment(metadata[\"oldest_available_date\"]),\n      endDate: moment(metadata[\"newest_available_date\"]),\n    });\n  };\n\n  let croppedSeries = state.sts.series.crop(state.timerange);\n  let croppedVolumeSeries = state.sts.seriesVolume.crop(state.timerange);\n\n  const linkStyle = {\n    fontWeight: 600,\n    color: \"grey\",\n    cursor: \"default\",\n  };\n\n  const linkStyleActive = {\n    color: \"steelblue\",\n    cursor: \"pointer\",\n  };\n\n  return (\n    <div>\n      <hr />\n\n      <nav className=\"level\">\n        <div className=\"level-left\">\n          <p className=\"level-item\">\n            <DateRangePicker\n              focusedInput={state.focusedInput}\n              isOutsideRange={() => false}\n              displayFormat=\"YYYY-MM-DD\"\n              onDatesChange={onDatesChange}\n              onFocusChange={onFocusChange}\n              startDate={selectedDate.startDate}\n              endDate={selectedDate.endDate}\n              small\n            />\n          </p>\n          <p className=\"level-item\">\n            <button\n              className=\"button is-small is-success\"\n              onClick={resetDateRange}\n            >\n              <span className=\"icon is-small\">\n                <i className=\"fas fa-sync\"></i>\n              </span>\n              <span>Reset (dates)</span>\n            </button>\n          </p>\n        </div>\n\n        <div className=\"level-right\">\n          <p className=\"level-item\">\n            <span\n              style={state.mode === \"log\" ? linkStyleActive : linkStyle}\n              onClick={setModeLinear}\n            >\n              Linear\n            </span>\n            <span> | </span>\n            <span\n              style={state.mode === \"linear\" ? linkStyleActive : linkStyle}\n              onClick={setModeLog}\n            >\n              Log\n            </span>\n          </p>\n        </div>\n      </nav>\n\n      <hr />\n\n      <div className=\"columns\">\n        <div className=\"column\">\n          <Resizable>\n            <ChartContainer\n              timeRange={\n                new TimeRange([selectedDate.startDate, selectedDate.endDate])\n              }\n              hideWeekends={true}\n              enablePanZoom={true}\n              onTimeRangeChanged={handleTimeRangeChange}\n              timeAxisStyle={{ axis: { fill: \"none\", stroke: \"none\" } }}\n            >\n              <ChartRow height=\"300\">\n                <Charts>\n                  <LineChart\n                    axis=\"y\"\n                    style={{ close: { normal: { stroke: \"steelblue\" } } }}\n                    columns={[\"close\"]}\n                    series={croppedSeries}\n                    interpolation=\"curveBasis\"\n                  />\n                </Charts>\n                <YAxis\n                  id=\"y\"\n                  label=\"Price ($)\"\n                  min={croppedSeries.min(\"close\")}\n                  max={croppedSeries.max(\"close\")}\n                  format=\",.0f\"\n                  width=\"60\"\n                  type={state.mode}\n                />\n              </ChartRow>\n              <ChartRow height=\"200\" axisMargin={0}>\n                <Charts>\n                  <BarChart\n                    axis=\"y\"\n                    style={{ volume: { normal: { stroke: \"steelblue\" } } }}\n                    columns={[\"volume\"]}\n                    series={croppedVolumeSeries}\n                  />\n                </Charts>\n                <YAxis\n                  id=\"y\"\n                  label=\"Volume\"\n                  min={croppedVolumeSeries.min(\"volume\")}\n                  max={croppedVolumeSeries.max(\"volume\")}\n                  width=\"60\"\n                />\n              </ChartRow>\n            </ChartContainer>\n          </Resizable>\n        </div>\n      </div>\n\n      <hr />\n      <div className=\"columns\">\n        <div\n          className=\"column\"\n          dangerouslySetInnerHTML={{ __html: props.metadata.description }}\n        ></div>\n      </div>\n    </div>\n  );\n}\n\nexport default Stockchart;\n","import cached_datasets from \"../cached_data/datasets.json\";\nimport { csvParse } from \"d3-dsv\";\nimport { timeParse } from \"d3-time-format\";\n\n// helper functions\n\n// Parser function for each row from the API\nconst parseData = (d) => {\n  d.date_string = d.Date;\n  d.date = timeParse(\"%Y-%m-%d\")(d.Date);\n  d.open = +d.Open;\n  d.high = +d.High;\n  d.low = +d.Low;\n  d.close = +d.Close;\n  d.volume = +d.Volume;\n  return d;\n};\n\n// constants\nconst QUANDL_API_KEY = `HyjG4ErwyxiQiZ8WKz5z`; // TODO: move this to server side API\nconst QUANDL_BASE_API = `https://www.quandl.com/api/v3`;\nconst QUANDL_DATASETS_API = `${QUANDL_BASE_API}/datasets?database_code=EOD&filter=sample&page=1&per_page=50&query=&format=json`;\n\nconst QuandlAPI = {\n  getDatasets: async () => {\n    let datasets = null;\n    try {\n      const response = await fetch(QUANDL_DATASETS_API);\n      if (response.ok) {\n        const jsonResponse = await response.json();\n        datasets = jsonResponse[\"datasets\"];\n      } else {\n        datasets = cached_datasets[\"datasets\"];\n      }\n    } catch (error) {\n      console.log(error);\n      datasets = cached_datasets[\"datasets\"];\n    }\n\n    return datasets;\n  },\n  getStockData: async (\n    tickerCode: string,\n    data_format: string,\n    start_date: string,\n    end_date: string\n  ) => {\n    const response = await fetch(\n      `https://www.quandl.com/api/v3/datasets/EOD/${tickerCode}.csv?api_key=${QUANDL_API_KEY}`\n    );\n    const text = await response.text();\n\n    let data = csvParse(text, parseData);\n    if (data_format === \"array\") {\n      // reduce data to arrays\n      const key2rowIdx = {\n        date: 0,\n        open: 1,\n        high: 2,\n        low: 3,\n        close: 4,\n        volume: 5,\n      };\n      data = data.reduce(\n        (memo, row, i) => {\n          Object.entries(key2rowIdx).forEach(([k, i]) => memo[i].push(row[k]));\n          return memo;\n        },\n        [[], [], [], [], [], []]\n      );\n    }\n\n    return data;\n  },\n};\n\nexport default QuandlAPI;\n","import React, { useState, useEffect } from \"react\";\nimport Select from \"react-select\";\nimport Stockchart from \"./TimeSeriesChart.js\";\nimport QuandlAPI from \"../services/QuandlAPI.js\";\nimport { Spinner } from \"react-spinners-css\";\n\nconst StockPrice = () => {\n  const [metadata, setMetadata] = useState(null);\n  const [datasets, setDatasets] = useState(null);\n  const [stockData, setStockData] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    QuandlAPI.getDatasets().then((d) =>\n      setDatasets(\n        d.sort((a, b) => {\n          if (a[\"dataset_code\"] > b[\"dataset_code\"]) return 1;\n          if (a[\"dataset_code\"] < b[\"dataset_code\"]) return -1;\n          return 0;\n        })\n      )\n    );\n  }, []);\n\n  useEffect(() => {\n    if (!metadata) {\n      return;\n    }\n\n    setLoading(true);\n    QuandlAPI.getStockData(metadata.dataset_code, \"json\").then((d) => {\n      setStockData(d);\n      setLoading(false);\n    });\n\n    return () => {\n      // cleanup\n    };\n  }, [metadata]);\n\n  return (\n    <div>\n      <Select\n        getOptionLabel={({ dataset_code, name }) => `${dataset_code} - ${name}`}\n        getOptionValue={({ dataset_code }) => dataset_code}\n        onChange={(d) => setMetadata(d)}\n        defaultOptions\n        placeholder={\n          !datasets ? \"loading...\" : \"Select a stock by typing ticker or name\"\n        }\n        loading={!datasets}\n        options={datasets}\n      />\n\n      <h2 className=\"is-size-2\">{metadata?.name}</h2>\n\n      {stockData && metadata ? (\n        <Stockchart\n          tickerCode={metadata.dataset_code}\n          data={stockData}\n          metadata={metadata}\n        />\n      ) : (\n        loading && (\n          <div className=\"is-flex is-justify-content-center\">\n            <Spinner />\n          </div>\n        )\n      )}\n    </div>\n  );\n};\n\nexport default StockPrice;\n","import \"./services/object_extensions.exec\";\nimport StockPrice from \"./components/StockPrice.js\";\n\nfunction App() {\n  return (\n    <section className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">Stock Price Checker</h1>\n        <h2 class=\"subtitle\">Check your favorite stock's historic price</h2>\n\n        <StockPrice />\n      </div>\n    </section>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}